

<% content_for :head do %>
  <%stylesheet_link_tag 'bootstrap' %>
	<%stylesheet_link_tag 'bootstrap.min' %>
<% end %>

    <style>

    /* GLOBAL STYLES
    -------------------------------------------------- */
    /* Padding below the footer and lighter body text */

    body {
      padding-bottom: 40px;
      color: #5a5a5a;
    }




#popup_box { 
  display:none; /* Hide the DIV */
  position:fixed;  
  _position:absolute; /* hack for internet explorer 6 */  
  height:125px;  
  width:500px;  
  background:#FFFFFF;  
  left: 300px;
  top: 150px;
  z-index:50; /* Layering ( on-top of others), if you have lots of layers: I just maximized, you can change it yourself */
  margin-left: 15px;  
  
  /* additional features, can be omitted */
  border:2px solid #cccccc;   
  padding:15px;  
  font-size:15px;  
  -moz-box-shadow: 0 0 5px #cccccc;
  -webkit-box-shadow: 0 0 5px #cccccc;
  box-shadow: 0 0 5px #cccccc;
  
}
    /* CUSTOMIZE THE NAVBAR
    -------------------------------------------------- */

    /* Special class on .container surrounding .navbar, used for positioning it into place. */
    .navbar-wrapper {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      z-index: 10;
      margin-top: 20px;
      margin-bottom: -90px; /* Negative margin to pull up carousel. 90px is roughly margins and height of navbar. */
    }
    .navbar-wrapper .navbar {

    }

    /* Remove border and change up box shadow for more contrast */
    .navbar .navbar-inner {
      border: 0;
      -webkit-box-shadow: 0 2px 10px rgba(0,0,0,.25);
         -moz-box-shadow: 0 2px 10px rgba(0,0,0,.25);
              box-shadow: 0 2px 10px rgba(0,0,0,.25);
    }

    /* Downsize the brand/project name a bit */
    .navbar .brand {
      padding: 14px 20px 16px; /* Increase vertical padding to match navbar links */
      font-size: 16px;
      font-weight: bold;
      text-shadow: 0 -1px 0 rgba(0,0,0,.5);
    }

    /* Navbar links: increase padding for taller navbar */
    .navbar .nav > li > a {
      padding: 15px 20px;
    }

    /* Offset the responsive button for proper vertical alignment */
    .navbar .btn-navbar {
      margin-top: 10px;
    }



    /* CUSTOMIZE THE CAROUSEL
    -------------------------------------------------- */

    /* Carousel base class */
    .carousel {
      margin-bottom: 60px;
    }

    .carousel .container {
      position: relative;
      z-index: 9;
    }

    .carousel .item {
      height: 500px;
    }
    .carousel img {
      position: absolute;
      top: 0;
      left: 0;
      min-width: 100%;
      height: 500px;
    }

    .carousel-caption {
      background-color: transparent;
      position: static;
      max-width: 550px;
      padding: 0 20px;
      margin-top: 240px;
      margin-left: 110px;
    }
    .carousel-caption h1,
    .carousel-caption .lead {
      margin: 0;
      line-height: 1.25;
      color: #ffffff;
      text-shadow: 0 1px 1px rgba(0,0,0,.4);
    }
    .carousel-caption .btn {
      margin-top: 10px;
    }



    /* MARKETING CONTENT
    -------------------------------------------------- */

    /* Center align the text within the three columns below the carousel */
    .marketing h2 {
      font-weight: normal;
    }
    .marketing .span4 p {
      margin-left: 10px;
      margin-right: 10px;
    }


    /* Featurettes
    ------------------------- */

    .featurette-divider {
      margin: 80px 0; /* Space out the Bootstrap <hr> more */
    }
    .featurette {
      padding-top: 120px; /* Vertically center images part 1: add padding above and below text. */
      overflow: hidden; /* Vertically center images part 2: clear their floats. */
    }
    .featurette-image {
      margin-top: -120px; /* Vertically center images part 3: negative margin up the image the same amount of the padding to center it. */
    }

    /* Give some space on the sides of the floated elements so text doesn't run right into it. */
    .featurette-image.pull-left {
      margin-right: 40px;
    }
    .featurette-image.pull-right {
      margin-left: 40px;
    }

    /* Thin out the marketing headings */
    .featurette-heading {
      font-size: 50px;
      font-weight: 300;
      line-height: 1;
      letter-spacing: -1px;
    }



    /* RESPONSIVE CSS
    -------------------------------------------------- */

    @media (max-width: 979px) {

      .container.navbar-wrapper {
        margin-bottom: 0;
        width: auto;
      }
      .navbar-inner {
        border-radius: 0;
        margin: -20px 0;
      }

      .carousel .item {
        height: 500px;
      }
      .carousel img {
        width: auto;
        height: 500px;
      }

      .featurette {
        height: auto;
        padding: 0;
      }
      .featurette-image.pull-left,
      .featurette-image.pull-right {
        display: block;
        float: none;
        max-width: 40%;
        margin: 0 auto 20px;
      }
    }


    @media (max-width: 767px) {

      .navbar-inner {
        margin: -20px;
      }

      .carousel {
        margin-left: -20px;
        margin-right: -20px;
      }
      .carousel .container {

      }
      .carousel .item {
        height: 300px;
      }
      .carousel img {
        height: 300px;
      }
      .carousel-caption {
        width: 65%;
        padding: 0 70px;
        margin-top: 100px;
      }
      .carousel-caption h1 {
        font-size: 30px;
      }
      .carousel-caption .lead,
      .carousel-caption .btn {
        font-size: 18px;
      }

      .marketing .span4 + .span4 {
        margin-top: 40px;
      }

      .featurette-heading {
        font-size: 30px;
      }
      .featurette .lead {
        font-size: 18px;
        line-height: 1.5;
      }

    }
    </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->



<div id="outter">
<div class="popup_box" id="popup_box">
  <div class="contianer" id="popup_box_container">
    <div id="loading" style="display:none">
      <div class="progress progress-striped active span6" id="bar-base">
        <div class="bar" id="bar-fill" style="width: 0%">
        
        </div>
      </div>
      </br>
      <h1 id = "text" style="position:center"></h1>
    </div>
  </div>
</div>

<div id="content">
<div class="navbar-wrapper">
      <!-- Wrap the .navbar in .container to center it within the absolutely positioned parent. -->
      <div class="container">

        <div class="navbar">
          <div class="navbar-inner">
            <!-- Responsive Navbar Part 1: Button for triggering responsive navbar (not covered in tutorial). Include responsive CSS to utilize. -->
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="brand" href="/">FriendMap.me</a>
            <!-- Responsive Navbar Part 2: Place all navbar contents you want collapsed withing .navbar-collapse.collapse. -->
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li class="active"><a href="/">Home</a></li>
              <li><%= link_to 'About', '/about'%></li>
              <li><%= link_to 'Contact', '/contact' %></li>
              <li><%= link_to 'Github', 'https://github.com/stevenbuccini/migration'%></li>

              </ul>
            </div><!--/.nav-collapse -->
          </div><!-- /.navbar-inner -->
        </div><!-- /.navbar -->

      </div> <!-- /.container -->
    </div><!-- /.navbar-wrapper -->



    <!-- Carousel
    ================================================== -->
    <div id="myCarousel" class="carousel slide">
      <div class="carousel-inner">
        
        <div class="item active">
         <img src="/assets/test1.png">
          <div class="container">
            <div class="carousel-caption">
              <h1>FriendMap.me</h1>
              <p class="lead">Engage with your friends like never before.</p>
              <a class="btn btn-large btn-primary" id="facebook">Sign in with Facebook</a>
            </div>
          </div>
        </div>
       
        </div>
      </div>
  
    </div><!-- /.carousel -->



    <!-- Marketing messaging and featurettes
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container marketing">

      <% if current_user %>
    Signed in as <strong><%= current_user.name %></strong> that looks like <img src=<%=current_user.image%>> !

    <a class="btn btn-large btn-primary"  id="got" a href='/example'>Generate map</a>

    <%= link_to "Sign out", signout_path, id: "sign_out" %>
  <% else %>
    <%= link_to "Sign in with Facebook", "/auth/facebook", id: "sign_in" %>
  <% end %>

    	<div class="featurette">
        <img class="featurette-image pull-right" src="assets/happy_coding.jpg" style="max-height: 500px; max-width: 500px;">
        <h2 class="featurette-heading">Ruby on Rails. <span class="muted">All the cool kids are doing it.</span></h2>
        <p class="lead">All users, sessions, authentication and data collection is done efficiently and effectively in Rails. Thanks to Active Record's Object Relational Mapping (ORM), database control has never been easier. </p>
      </div>

      <hr class="featurette-divider">

      <div class="featurette">
        <img class="featurette-image pull-left" src="/assets/fb-graph.jpg" style="max-height: 500px; max-width: 500px;">
        <h2 class="featurette-heading">Facebook Graph API. <span class="muted">Maximizing the potential.</span></h2>
        <p class="lead">Facebook's Graph API gives developers access to information that can significantly enhance a user's experience. FriendMap.me shows a user his or her friends' hometowns and current locations in a new, interactive, and (most importantly) one of a kind experience.</p>
      </div>

      <hr class="featurette-divider">

      <div class="featurette">
        <img class="featurette-image pull-right" src="/assets/google-Maps.png">
        <h2 class="featurette-heading">Deep Google Maps Integration: <span class="muted">Bringing you a map worth bragging about.</span></h2>
        <p class="lead">After the data is acquired, it is presented to the user in a polished, streamlined package with the Google Maps API.</p>
      </div>

      <hr class="featurette-divider">

      <!-- Three columns of text below the carousel -->
      <div class="row">
        <div class="span6">
          <img class="img-circle" data-src="holder.js/140x140" alt="140x140" style="width: 140px; height: 140px;" src="assets/alex.png">
          <h2>Alex Triana</h2>
          <p>B.S. Electrical Engineering and Computer Science 2016<p>
        <p>University of California, Berkeley</p>
        <p> Alex is passionate about web development and the Ruby on Rails Web platform. Previously an intern at Qualcomm, he is spending this summer doing Computer Science research at Cal and working for <%= link_to "HouseCall", 'http://www.housecall.io'%> and <%= link_to "5PlusTherapy.", 'http://www.5plustherapy.com'%> </p>
          <p><a class="btn" href="http://www.alextriana.com">Personal Site »</a></p>
        </div><!-- /.span4 -->
        <div class="span6">
          <img class="img-circle" data-src="holder.js/140x140" alt="140x140" style="width: 140px; height: 140px;" src="/assets/steve.jpeg">
          <h2>Steven Buccini</h2>
          <p>B.S. Electrical Engineering and Computer Science 2016<p>
        <p>University of California, Berkeley</p>
          <p>Steven learned exceptional manners while being raised in the South, got booksmart in the libraries of Berkeley, and is hopefully going to get street smart on the streets of NYC in the fall. If you're reading this, Hacker School people, we should talk!</p>
          <p><a class="btn" href="http://www.stevenbuccini.com">Personal Site »</a></p>
        </div><!-- /.span4 -->
       
        </div><!-- /.span4 -->
      </div><!-- /.row -->


      <!-- START THE FEATURETTES -->

      <hr class="featurette-divider">

      

      <!-- /END THE FEATURETTES -->


      <!-- FOOTER -->
      <footer>
       
        <p>© 2013 Alex Triana and Steven Buccini
      </footer>


    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    


     <script>$(document).ready(function(){  

    $("#got").click(function () {
        

        loadPopupBox();
        $('#loading').fadeIn();
        var current_width=0;
        function nextMsg() {
    if (updates.length == 0) {
        // once there is no more message, do whatever you want
        console.log("done");
    } else {
       
        var current = updates.pop();
        console.log("f")
        current_width=current_width+20
        $('#bar-fill').css({"width":String(current_width)+"%"})
        $('#text').hide().html(current).fadeIn(1000).delay(1000).fadeOut(1000,nextMsg);

    }
  }   
    

    var updates = [
    "Checking all friends...",
    "Gathering all data...",
    "Generating map...",
    "Generating markers...",
    "Almost done!"
    ].reverse();

    nextMsg(); 
        
    });


    $("#facebook").click(function () {

      loadPopupBox();
      $('#popup_box_container').append('<p id=note>Note: When prompted, you must allow FriendMap.me to access your friends locations and hometowns. Otherwise, the app won\'t work!</p>');
      $('#popup_box_container').append('<div style="margin-left:25px" id="centered">');
      $('#centered').append('<a class="btn btn-large btn-success" href="/auth/facebook" id="facebook-go">I understand</a>');
    $('#centered').append('<a class="btn btn-large btn-danger" id="facebook-no" style="margin-left:25px">No! Take me back!</a>');    

    $('#facebook-no').click(function(){
      unloadPopupBox();
      $('#note').remove();
      $('#centered').remove();
      $('#facebook-no').remove();
      $('#facebook-go').remove();
    });
      });



function unloadPopupBox() { // TO Unload the Popupbox
      $('#popup_box').fadeOut("slow");
      $("#content").css({ // this is just for style   
        "opacity": "1"  
      }); 
    }

    
    function loadPopupBox() { // To Load the Popupbox
  
      $('#popup_box').fadeIn("slow");
      $("#content").css({ // this is just for style
        "opacity": "0.3"  });
      
     
  }

  

});


</script>